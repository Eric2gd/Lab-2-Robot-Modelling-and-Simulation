<?xml version="1.0"?>
<robot xmlns:xacro="http://ros.org/wiki/xacro" name="cybertruck_robot">

    <!-- Import External Xacro Files -->
    <xacro:include filename="$(find cybertruck_description)/urdf/carbody.xacro"/>
    <xacro:include filename="$(find cybertruck_description)/urdf/wheels.xacro"/>
    <xacro:include filename="$(find cybertruck_description)/urdf/sensors.xacro"/>
    <!-- <xacro:include filename="$(find cybertruck_description)/gazebo/robot.gazebo"/> -->
    

    <link name="dummy">
    </link>
    <joint name="dummy_joint" type="fixed">
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <parent link="dummy"/>
        <child link="carbody"/>
    </joint>

    <!-- Create Car Body -->
    <xacro:carbody/>

    <!-- Wheels -->
    <xacro:wheel_link suffix="1" x="2.2204460492503130808e-16" y="2.7755575615628913511e-17" z="-0.054999999999999993339" x1="1.1102230246251565404e-16" y1="1.3877787807814456755e-17" r="-1.570796326794896558" p="-1.570796326794896558" yw="0" ixx="0.032071117109724343874" ixy="3.1503975095023306102e-18"  ixz="-4.7163425796709302253e-18" iyy="0.032071117109724357752" iyz="-1.0261803230676583576e-18" izz="0.051594875950933961894" x2="0" y2="0" z2="-0.054999999999999993339" i_xyz_x="1.3589014717930336387e-16" i_xyz_y="2.865589325797537375e-17" i_xyz_z="-0.014008508764301362895"/>
    <xacro:wheel_link suffix="2" x="0" y="0" z="-0.054999999999999993339" x1="0" y1="0" r="-1.570796326794896558" p="-1.570796326794896558" yw="0" ixx="0.032071117109724329997" ixy="6.2023450968327039518e-18"  ixz="1.0286902923306847666e-18" iyy="0.032071117109724329997" iyz="-3.0649033447830545848e-19" izz="0.051594875950933961894" x2="0" y2="0" z2="-0.054999999999999993339" i_xyz_x="-6.2361851381479182544e-18" i_xyz_y="1.089297430533192376e-17" i_xyz_z="-0.014008508764301362895"/>
    <xacro:wheel_link suffix="3" x="0" y="0" z="-0.054999999999999993339" x1="0" y1="0" r="-1.570796326794896558" p="-1.570796326794896558" yw="0" ixx="0.032071117109724399385" ixy="8.3713350159878664522e-19"  ixz="1.0286906400690397168e-18" iyy="0.032071117109724350813" iyz="-3.1704737612245841543e-19" izz="0.051594875950933961894" x2="0" y2="0" z2="-0.054999999999999993339" i_xyz_x="-6.2361848359611121551e-18" i_xyz_y="1.0885944194975171098e-17" i_xyz_z="-0.014008508764301362895"/>
    <xacro:wheel_link suffix="4" x="0" y="-1.3877787807814456755e-17" z="-0.054999999999999993339" x1="0" y1="0" r="-1.570796326794896558" p="-1.570796326794896558" yw="0" ixx="0.03207111710972437163" ixy="-3.7819973611508903677e-18"  ixz="1.0286901202560229468e-18" iyy="0.032071117109724357752" iyz="1.0619700477622371871e-18" izz="0.051594875950933961894" x2="0" y2="0" z2="-0.054999999999999993339" i_xyz_x="-6.2361852559968973616e-18" i_xyz_y="5.4186941231292382074e-18" i_xyz_z="-0.014008508764301362895"/>

    <!-- Wheel Joints -->
    <xacro:wheel_joint name="LFRONT" parent="carbody" child="wheel_2" x="0.23399999999999998579" y="-0.6649815680623489822" z="0.045063234419993825064" r="1.570796326794896558" p="-1.332267629550186468e-15" yw="-1.570796326794896558"/>
    <xacro:wheel_joint name="RFRONT" parent="carbody" child="wheel_3" x="-0.23399999999999998579" y="-0.6649815680623489822" z="0.045063234419993936086" r="-1.570796326794896558" p="-1.3582884816897784238e-15" yw="-1.570796326794896558"/>
    <xacro:wheel_joint name="LBACK" parent="carbody" child="wheel_1" x="0.23399999999999998579" y="0.50241941586136773523" z="0.041397847235202525629" r="1.570796326794896558" p="-1.3461454173579431407e-15" yw="-1.570796326794896558"/>
    <xacro:wheel_joint name="RBACK" parent="carbody" child="wheel_4" x="-0.23399999999999998579" y="0.50241941586136773523" z="0.041397847235202483995" r="-1.570796326794896558" p="-1.3600232051657552309e-15" yw="-1.570796326794896558"/>

    <!-- Sensors -->
    <xacro:sensor_bar suffix="rsensor" x="0.059597848948836310012" y="0.030648184454273759425" z="0" r="1.570796326794896558" p="-4.5048600266772715396e-17" yw="-8.673617379884037398e-19" i_x="-0.00085278634972848349483" i_y="-6.3531317178695118075e-05" i_z="-0.0024996223686946789089" ixx="8.2708913888452691336e-08" ixy="3.9374082852641324845e-09"  ixz="-1.812131423886424547e-08" iyy="6.722671558775725881e-06" iyz="-1.3500110115161905531e-09" izz="6.7724163537762414037e-06" j_x="0.12002181200253836391" j_y="-0.89500082170772932155" j_z="0.10088283596281659438" j_r="-1.6089173531410916329" j_p="0.0049632062983683200227" j_yw="0.12940522343665028515"/>
    <xacro:sensor_bar suffix="lsensor" x="0.059597848948836316951" y="0.030648184454273745547" z="0" r="1.570796326794896558" p="-1.5937771935536912098e-17" yw="-8.6736173798840335461e-19" i_x="-0.00085278634972849737261" i_y="-6.3531317178705526416e-05" i_z="-0.0024996223686946771742" ixx="8.2708913888452744275e-08" ixy="3.9374082852641333117e-09"  ixz="-1.8121314238863980772e-08" iyy="6.7226715587757241869e-06" iyz="-1.3500110115160968749e-09" izz="6.7724163537762414037e-06" j_x="-0.12002181200253836391" j_y="-0.89500082170772898849" j_z="0.10088283596281662213" j_r="-1.6089173531410907447" j_p="-0.0049632062983683226248" j_yw="-0.12940522343665034066"/>

</robot>
